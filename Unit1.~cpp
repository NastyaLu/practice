//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop
#include <iostream.h>
#include <Windows.h>

//---------------------------------------------------------------------------

#pragma argsused
int main(int argc, char* argv[])
{
system("chcp 1251");
system("cls");
HKEY Key;
HKEY fkey;
DWORD subData=255;
DWORD txData=255;
DWORD regtype=0;
char* sData = new char [subDbata];
char* substr = new char [50];
char* tData = new char [txData];
char* text = new char [50];
cout<<"¬ведите подстроку: "<<endl;
cin>>substr;

cout<<"¬ведите дескриптор ключа "<<endl;
cin>>key;

cout<<"¬ведите раздел "<<endl;
cin>>divis;
if(RegOpenKeyEx(key,divis,0,KEY_QUERY_VALUE+KEY_EXECUTE,&fKey)==ERROR_SUCCESS) //открываем раздел
        return 0;
}
//---------------------------------------------------------------------------

